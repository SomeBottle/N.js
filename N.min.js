var $N={mcss:"@keyframes Ndm{from{left:120%}to{left:0;transform:translateX(-100%)}}@-webkit-keyframes Ndm{from{left:120%}to{left:0;transform:translateX(-100%)}}@-moz-keyframes Ndm{from{left:120%}to{left:0;transform:translateX(-100%)}}@-o-keyframes Ndm{from{left:120%}to{left:0;transform:translateX(-100%)}}.N-tm{-webkit-text-shadow:#000 0.5px 0 0,#000 0 0.5px 0,#000 -0.5px 0 0,#000 0 -0.5px 0;-moz-text-shadow:#000 0.5px 0 0,#000 0 0.5px 0,#000 -0.5px 0 0,#000 0 -0.5px 0;text-shadow:#000 0.5px 0 0,#000 0 0.5px 0,#000 -0.5px 0 0,#000 0 -0.5px 0;}.N-n{position:absolute}.N-d{position:absolute;animation:Ndm 5s;animation-fill-mode:forwards;animation-timing-function:linear;-webkit-animation-fill-mode:forwards;-webkit-animation-timing-function:linear;-moz-animation-fill-mode:forwards;-moz-animation-timing-function:linear;-o-animation-fill-mode:forwards;-o-animation-timing-function:linear;}.N-danmaku{position:absolute;overflow:hidden;}",dnum:{},cons:{},tnum:{},bnum:{},bold:{},num:0,hitbox:{},obnum:{},colour:{},ftsize:{},opa:{},el:"none",wt:{},ps:{},psall:!1,hs:{},list:{},hsall:!1,ini:!1,timer:"none",end:{animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},md:{},x:function(a){if(this.s(a)){this.el=a;this.hitbox[a]=this.hitbox[a]||[];this.ps[a]=this.ps[a]||!1;this.colour[a]=this.colour[a]||"#FFF";this.opa[a]=this.opa[a]||1;this.wt[a]=this.wt[a]||5;this.dnum[a]=this.dnum[a]||0;this.tnum[a]=this.tnum[a]||0;this.bnum[a]=this.bnum[a]||0;this.obnum[a]=this.obnum[a]||0;this.bold[a]=this.bold[a]||"normal";this.md[a]=this.md[a]||"normal";if(!this.cons[a]){var b=this.s(a);this.cons[a]={};this.cons[a].height=b.offsetHeight;this.cons[a].width=b.offsetWidth}if(!this.s("N-ob"+a)){var b=this.s("N-dm"),c=document.createElement("style");c.id="N-ob"+a;c.innerHTML=".N-ob"+a+"{animation-play-state:running;-webkit-animation-play-state:running;-moz-animation-play-state:running;-o-animation-play-state:running;}";b.appendChild(c)}this.s("N-danmaku"+a)||(b=this.s(a),c=document.createElement("div"),c.id="N-danmaku"+a,c.style.width="100%",c.style.height="100%",c.style.top="0px",c.className="N-danmaku",b.appendChild(c))}},center:function(a){a.style.left="50%";a.setAttribute("style",a.style.cssText+"transform:translateX(-50%);");a.setAttribute("style",a.style.cssText+"-webkit-transform:translateX(-50%);");a.setAttribute("style",a.style.cssText+"-moz-transform:translateX(-50%);");a.setAttribute("style",a.style.cssText+"-o-transform:translateX(-50%);")},pf:function(a,b,c){var e=this;setTimeout(function(){var f=b,d=setInterval(function(){var b=e.s(a);null!==b&&void 0!==b?(e.ps[c]||e.psall||--f,0>=f&&(b.parentNode.removeChild(b),clearInterval(d))):clearInterval(d)},1E3)},10)},s:function(a){return document.getElementById(a)},i:function(){if(!this.ini){this.ini=!0;var a=document.createElement("div");a.id="N-dm";var b=document.createElement("style");b.innerHTML=this.mcss;a.appendChild(b);document.body.appendChild(a);console.log("[N]Initialized.")}},p:function(a,b){"color"==a?this.colour[this.el]=b:"opacity"==a?this.opa[this.el]=(Number(b)/100).toFixed(2):"time"==a?this.wt[this.el]=b:"md"==a?-1!==["normal","top","bottom","random"].indexOf(b)&&(this.md[this.el]=b):"bold"==a?("normal"==b&&(b=400),b=Number(b),100<=b&&900>=b&&(this.bold[this.el]=b)):"size"==a&&("normal"==b&&(b=1),b=Number(b),.5<=b&&2>=b&&(this.ftsize[this.el]=b))},c:function(a){var b=this.el,c=this.s("N-danmaku"+b);if("none"!==b&&this.s(b)){var e=this.wt[b],f=this.s(b),d=document.createElement("div");a=document.createTextNode(a);d.appendChild(a);a=f.clientWidth/180*5;void 0!==this.ftsize[b]&&1!==this.ftsize[b]&&(a*=parseFloat(this.ftsize[b]));d.style.fontSize=a+"px";d.style.fontWeight=this.bold[b];d.style.color=this.colour[b];d.style.opacity=this.opa[b];d.style.animationDuration=e+"s";f.style.wordBreak="keep-all";f.style.whiteSpace="nowrap";d.setAttribute("style",d.style.cssText+"-webkit-animation-duration:"+e+"s;");d.setAttribute("style",d.style.cssText+"-moz-animation-duration:"+e+"s;");d.setAttribute("style",d.style.cssText+"-o-animation-duration:"+e+"s;");d.id="N-d"+this.num;f.style.position="relative";if("normal"==this.md[b]||"random"==this.md[b]){var h=function(a){var b=Math.floor(Math.random()*k)+1;return-1!==a.hitbox[a.el].indexOf(b)?h(a):a.hitbox[a.el][a.hitbox[a.el].length+1]=b},e=Math.floor(f.clientHeight/a*.8),k=e+1;d.style.top=a*this.dnum[b]+"px";"random"==this.md[b]&&(this.hitbox[b].length>k&&(this.hitbox[b]=[]),f=h(this),d.style.top=a*f+"px");d.className="N-tm N-d N-ob"+b;for(var l in this.end)if(void 0!==d.style[l])break;d.addEventListener(this.end[l],function(){c.removeChild(d)});this.dnum[b]+=1;this.dnum[b]>=e&&(this.dnum[b]=0)}else"top"==this.md[b]?(d.className="N-tm N-n N-ot"+b,d.style.top=a*this.tnum[b]+"px",this.tnum[b]=this.tnum[b]>=f.clientHeight/(2*a)?0:this.tnum[b]+1,this.center(d),this.pf(d.id,e,b)):"bottom"==this.md[b]&&(d.className="N-tm N-n N-bt"+b,d.style.bottom=a*this.bnum[b]+"px",this.bnum[b]=this.bnum[b]>=f.clientHeight/(2*a)?0:this.bnum[b]+1,this.center(d),this.pf(d.id,e,b));this.num+=1;this.obnum[b]+=1;c.appendChild(d)}else console.log("[N]Empty Element.")},theworld:function(a){var b=this.s("N-dm");a?this.psall||this.s("N-pause")?(this.psall=!1,b.removeChild(this.s("N-pause"))):(this.psall=!0,a=document.createElement("style"),a.id="N-pause",a.innerHTML=".N-d{animation-play-state:paused;-webkit-animation-play-state:paused;-moz-animation-play-state:paused;-o-animation-play-state:paused;}",b.appendChild(a)):this.ps[this.el]||this.s("N-"+this.el+"pause")?(this.ps[this.el]=!1,b.removeChild(this.s("N-"+this.el+"pause"))):(this.ps[this.el]=!0,a=document.createElement("style"),a.id="N-"+this.el+"pause",a.innerHTML=".N-ob"+this.el+"{animation-play-state:paused;-webkit-animation-play-state:paused;-moz-animation-play-state:paused;-o-animation-play-state:paused;}",b.appendChild(a))},cdm:function(a){for(var b=document.getElementsByClassName(a),c=0;c<b.length;c++)b[c].parentNode.removeChild(b[c]);if(0<document.getElementsByClassName(a).length)return this.cdm(a)},clear:function(a){this.s("N-dm");a?(this.cdm("N-d"),this.cdm("N-tm")):(this.cdm("N-ob"+this.el),this.cdm("N-ot"+this.el),this.cdm("N-bt"+this.el))},createlist:function(a){if(void 0==this.list[a]||null==this.list[a])this.list[a]={},this.list[a].d={},this.list[a].id=0,console.log("[N]Created List:"+a)},dellist:function(a){void 0!==this.list[a]||null!==this.list[a]?(delete this.list[a],console.log("[N]Deleted List:"+a)):console.log("[N]Failed to delete List:"+a)},json:function(a,b){var c=JSON.parse(a),e=c.x,f=c.color,d=c.opacity,h=c.time,k=c.md,l=c.bold,m=c.size,c=c.danmaku,n;for(n in c){var g=c[n];void 0!==g.x&&(e=g.x);void 0!==g.color&&(f=g.color);void 0!==g.opacity&&(d=g.opacity);void 0!==g.time&&(h=g.time);void 0!==g.md&&(k=g.md);void 0!==g.bold&&(l=g.bold);void 0!==g.size&&(m=g.size);this.adtl({x:e,color:f,opacity:d,time:h,md:k,bold:l,size:m,text:g.text},g.ts,b)}},adtl:function(a,b,c){if(void 0!==this.list[c]||null!==this.list[c]){if(void 0==this.list[c][b]||null==this.list[c][b])this.list[c][b]={};var e=Object.keys(this.list[c][b]).length,f=this.list[c].id;this.list[c].d[f]={tm:b,dm:e};this.list[c][b][e]={ct:a.x,cl:a.color,op:a.opacity,tm:a.time,md:a.md,bd:a.bold,sz:a.size,tx:a.text};this.list[c].id=parseInt(this.list[c].id)+1;return f}console.log("[N]Failed to add danmaku to List:not exists")},rdfl:function(a,b){if(void 0!==this.list[b]||null!==this.list[b]){var c=this.list[b].d[a].tm,e=this.list[b].d[a].dm;void 0!==this.list[b][c][e]&&delete this.list[b][c][e]}else console.log("[N]Failed to delete:not exists")},lc:function(a,b){if((void 0!==this.list[b]||null!==this.list[b])&&void 0!==this.list[b][a]){var c=this.list[b][a],e;for(e in c)this.el!==c[e].ct&&this.x(c[e].ct),this.p("color",c[e].cl),this.p("opacity",c[e].op),this.p("time",c[e].tm),this.p("md",c[e].md),this.p("bold",c[e].bd),this.p("size",c[e].sz),this.c(c[e].tx)}}};$N.i();